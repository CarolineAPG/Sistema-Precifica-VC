<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="design tabela.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<title>Document</title>
</head>
<body>
	<div class="container">
       <h1>Tabela</h1>
	   <div id="header">
	   </div>
	   <form enctype="multipart/form-data">
		<div class="well clearfix">
			<a class="btn btn-primary pull-right add-record" data-added="0">
				<i class="glyphicon glyphicon-plus"></i> Add Row</a>
		  </div>
		<table class="table table-bordered" id="tbl_posts">
		  <thead>
			<tr>
			  <th class="primeiro"></th>
			  <th>nome</th>
			  <th>quantidade</th>
			  <th>pre√ßo</th>
			  <th>Action</th>
			</tr>
		  </thead>
		  <tbody id="tbl_posts_body">
			<tr id="rec-1">
				<td><span class="sn"></span></td>
				<td>ingrediente</td>
				<td>0g</td>
				<td>0,00</td>
				<td><a class="btn btn-xs delete-record" data-id="1"><i class="glyphicon glyphicon-trash"></i></a></td>
			  </tr>
			<tr id="rec-2">
				<td><span class="sn"></span></td>
				<td>ingrediente</td>
				<td>0g</td>
				<td>0,00</td>
				<td><a class="btn btn-xs delete-record" data-id="2"><i class="glyphicon glyphicon-trash"></i></a></td>
			  </tr>
			
			  <tr id="rec-3">
				<td><span class="sn"></span></td>
				<td>ingrediente</td>
				<td>0g</td>
				<td>0,00</td>
				<td><a class="btn btn-xs delete-record" data-id="3"><i class="glyphicon glyphicon-trash"></i></a></td>
			  </tr>
		  </tbody>
		</table>
	  </div> 
	</form>
	<div style="display:none;">
		<table id="sample_table">
		  <tr id="">
		   <td><span class="sn"></span></td>
		   <td>ingrediente</td>
		   <td>0g</td>
		   <td>0,00</td>
		   <td><a class="btn btn-xs delete-record" data-id="0"><i class="glyphicon glyphicon-trash"></i></a></td>
		 </tr>
	   </table>
	 </div>
	 <div class="col-sm-10" style="margin: 20px 0px 20px 83px;">
	<div id="footer"></div>

	</div>
	
</body>
</html>
<script type="text/javascript">
	$(document).ready(function(){
		
jQuery(document).delegate('a.add-record', 'click', function(e) {
     e.preventDefault();    
     var content = jQuery('#sample_table tr'),
     size = jQuery('#tbl_posts >tbody >tr').length + 1,
     element = null,    
     element = content.clone();
     element.attr('id', 'rec-'+size);
     element.find('.delete-record').attr('data-id', size);
     element.appendTo('#tbl_posts_body');
     element.find('.sn').html(size);
   });
   
jQuery(document).delegate('a.delete-record', 'click', function(e) {
     e.preventDefault();    
     var didConfirm = confirm("Tem certeza que quer excluir?");
     if (didConfirm == true) {
      var id = jQuery(this).attr('data-id');
      var targetDiv = jQuery(this).attr('targetDiv');
      jQuery('#rec-' + id).remove();
      
    //regnerate index number on table
    $('#tbl_posts_body tr').each(function(index) {
      //alert(index);
      $(this).find('span.sn').html(index+1);
    });
    return true;
  } else {
    return false;
  }
});
jQuery(document).delegate('a.delete-record', 'click', function(e) {
     e.preventDefault();    
     var didConfirm = confirm("Tem certeza que quer excluir?");
     if (didConfirm == true) {
      var id = jQuery(this).attr('data-id');
      var targetDiv = jQuery(this).attr('targetDiv');
      jQuery('#rec-' + id).remove();
      
    //regnerate index number on table
    $('#tbl_posts_body tr').each(function(index) {
      //alert(index);
       $(this).find('span.sn').html(index+1);
    });

    return true;
  } else {
    return false;
  }
});
	})
</script>